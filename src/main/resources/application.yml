server:
  port: 8080

spring:
  application:
    name: secure-rest-api-demo
  profiles:
    default: dev

  datasource:
    url: jdbc:postgresql://localhost:5432/secure_api
    username: postgres
    password: postgres

  jpa:
    hibernate:
      ddl-auto: validate
    properties:
      hibernate:
        format_sql: true
    open-in-view: false

  flyway:
    enabled: true
jwt:
  secret: ${JWT_SECRET}
  expirationMillis: 3600000 # 1h

logging:
  level:
    org.springframework.security: INFO

management:
  endpoints:
    web:
      exposure:
        include: health,info, metrics, prometheus
  endpoint:
    health:
      show-details: never
  metrics:
    token: ${METRICS_TOKEN}
    tags:
      application: ${spring.application.name:secure-rest-api-demo}
    distribution:
      percentiles-histogram:
        http.server.requests: true
      percentiles:
        http.server.requests: 0.5,0.95,0.99